---
import createOrUpdateUser from "@/utils/createOrUpdate";

import Layout from "../layouts/Layout.astro";
import CheckoutForm from "@/components/react/checkout-form";

const { userId } = Astro.locals.auth();

let user;

if (userId) {
  user = await createOrUpdateUser(userId, Astro.locals.currentUser);
}
---

<Layout title="Checkout - Store">
  <CheckoutForm client:load />
</Layout>
